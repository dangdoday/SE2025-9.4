import{d as f,u as v,l as p,c as i,b as t,n as _,t as o,m as a,k as l,f as w,F as $,p as h,q as k,o as S,s as u,x as T,j as C,y as B}from"./index-2Haz5s36.js";import{_ as g}from"./TradeList.vue_vue_type_script_setup_true_lang-GpUPYJk8.js";const j={class:"card"},P={class:"card-header"},D={class:"flex items-center gap-2"},R={class:"space-y-3"},F={class:"flex justify-between py-2 border-b border-dark-100"},N={class:"text-white text-sm"},V={class:"flex justify-between py-2 border-b border-dark-100"},M={class:"text-white text-sm"},O={class:"flex justify-between py-2"},U={class:"text-white text-sm"},A=f({__name:"BotStatus",setup(m){const e=v(),d=p(()=>e.isConnected?e.isBotRunning?"text-success":"text-danger":"text-gray-500"),r=p(()=>e.isConnected?e.isBotRunning?"Running":"Stopped":"Disconnected"),s=p(()=>e.isConnected?e.isBotRunning?"bg-success":"bg-danger":"bg-gray-500");return(c,n)=>{var x,y,b;return l(),i("div",j,[t("div",P,[n[0]||(n[0]=t("span",null,"ðŸ¤– Bot Status",-1)),t("span",D,[t("span",{class:_(["w-2 h-2 rounded-full",s.value])},null,2),t("span",{class:_(["text-sm",d.value])},o(r.value),3)])]),t("div",R,[t("div",F,[n[1]||(n[1]=t("span",{class:"text-gray-500 text-sm"},"Mode",-1)),t("span",N,o((x=a(e).botState)!=null&&x.dry_run?"Dry Run":"Live"),1)]),n[4]||(n[4]=t("div",{class:"flex justify-between py-2 border-b border-dark-100"},[t("span",{class:"text-gray-500 text-sm"},"Strategy"),t("span",{class:"text-primary text-sm"},"RSI_EMA")],-1)),t("div",V,[n[2]||(n[2]=t("span",{class:"text-gray-500 text-sm"},"Open Trades",-1)),t("span",M,o(a(e).openTradeCount)+" / "+o(((y=a(e).botState)==null?void 0:y.max_open_trades)||3),1)]),t("div",O,[n[3]||(n[3]=t("span",{class:"text-gray-500 text-sm"},"Stake",-1)),t("span",U,o(((b=a(e).botState)==null?void 0:b.stake_amount)||100)+" USDT",1)])])])}}}),W={class:"card"},z={class:"card-header"},E={class:"mb-4"},L={class:"text-3xl font-bold text-primary"},q={class:"space-y-2"},H={class:"text-gray-400"},I={class:"text-white"},G={key:0,class:"text-gray-500 text-sm text-center py-2"},J=f({__name:"BotBalance",setup(m){const e=v();return(d,r)=>(l(),i("div",W,[t("div",z,[r[1]||(r[1]=t("span",null,"ðŸ’° Balance",-1)),t("button",{onClick:r[0]||(r[0]=s=>a(e).fetchBalance()),class:"text-xs text-gray-500 hover:text-primary"}," ðŸ”„ ")]),t("div",E,[t("div",L,o(a(e).totalBalance.toFixed(2)),1),r[2]||(r[2]=t("div",{class:"text-sm text-gray-500"},"USDT Total",-1))]),t("div",q,[(l(!0),i($,null,h(a(e).balance.slice(0,5),s=>(l(),i("div",{key:s.currency,class:"flex justify-between items-center py-1 text-sm"},[t("span",H,o(s.currency),1),t("span",I,o(s.total.toFixed(4)),1)]))),128)),a(e).balance.length===0?(l(),i("div",G," No balance data ")):w("",!0)])]))}}),K={class:"card"},Q={class:"card-header"},X={class:"mb-4"},Y={class:"space-y-2 text-sm"},Z={class:"flex justify-between py-1 border-b border-dark-100"},tt={class:"text-success"},st={class:"flex justify-between py-1 border-b border-dark-100"},et={class:"text-success"},at={class:"flex justify-between py-1 border-b border-dark-100"},ot={class:"text-primary"},nt={class:"flex justify-between py-1"},rt={class:"text-white"},it=f({__name:"BotProfit",setup(m){const e=v(),d=p(()=>{const r=e.totalProfit;return r>0?"text-success":r<0?"text-danger":"text-white"});return(r,s)=>{var c,n,x;return l(),i("div",K,[t("div",Q,[s[1]||(s[1]=t("span",null,"ðŸ“ˆ Profit",-1)),t("button",{onClick:s[0]||(s[0]=y=>a(e).fetchProfit()),class:"text-xs text-gray-500 hover:text-primary"}," ðŸ”„ ")]),t("div",X,[t("div",{class:_(["text-3xl font-bold",d.value])},o(a(e).totalProfit>=0?"+":"")+o(a(e).totalProfit.toFixed(2)),3),s[2]||(s[2]=t("div",{class:"text-sm text-gray-500"},"USDT Total Profit",-1))]),t("div",Y,[t("div",Z,[s[3]||(s[3]=t("span",{class:"text-gray-500"},"Today",-1)),t("span",tt,"+"+o((((c=a(e).profit)==null?void 0:c.profit_today)||0).toFixed(2)),1)]),t("div",st,[s[4]||(s[4]=t("span",{class:"text-gray-500"},"This Week",-1)),t("span",et,"+"+o((((n=a(e).profit)==null?void 0:n.profit_this_week)||0).toFixed(2)),1)]),t("div",at,[s[5]||(s[5]=t("span",{class:"text-gray-500"},"Win Rate",-1)),t("span",ot,o(a(e).winRate)+"%",1)]),t("div",nt,[s[6]||(s[6]=t("span",{class:"text-gray-500"},"Closed Trades",-1)),t("span",rt,o(((x=a(e).profit)==null?void 0:x.closed_trade_count)||0),1)])])])}}}),lt={class:"h-48"},dt={key:0,class:"h-full flex items-end gap-1"},ct={class:"text-[10px] text-gray-500 text-center mt-1 truncate"},xt={key:1,class:"h-full flex items-center justify-center text-gray-500 text-sm"},ut=f({__name:"PeriodBreakdown",setup(m){const e=v(),d=p(()=>e.dailyStats.map((s,c)=>({date:s.date,profit:s.profit_abs||0,cumulative:e.dailyStats.slice(0,c+1).reduce((n,x)=>n+(x.profit_abs||0),0)}))),r=p(()=>{const s=d.value.map(c=>c.cumulative);return Math.max(...s,1)});return(s,c)=>(l(),i("div",lt,[d.value.length>0?(l(),i("div",dt,[(l(!0),i($,null,h(d.value.slice(-14),(n,x)=>(l(),i("div",{key:x,class:"flex-1 flex flex-col justify-end"},[t("div",{class:_(["rounded-t transition-all duration-300",n.profit>=0?"bg-success":"bg-danger"]),style:k({height:`${Math.abs(n.profit)/r.value*100}%`,minHeight:"4px"})},null,6),t("div",ct,o(n.date.slice(5)),1)]))),128))])):(l(),i("div",xt," No profit data available "))]))}}),pt={class:"space-y-6 fade-in"},_t={class:"flex items-center justify-between"},ft={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},vt={class:"card"},mt={class:"stat-value text-primary"},yt={class:"card"},bt={class:"card"},gt={class:"stat-value text-success"},$t={class:"card"},ht={class:"stat-value text-white"},wt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},kt={class:"lg:col-span-2 space-y-6"},St={class:"card"},Tt={class:"card"},Ct={class:"card-header"},Bt={class:"badge badge-warning"},jt={class:"space-y-6"},Pt={class:"card"},Dt={class:"card-header"},Nt=f({__name:"DashboardView",setup(m){const e=v();S(()=>{e.refreshAll()});const d=p(()=>{const r=e.totalProfit;return r>0?"text-success":r<0?"text-danger":"text-white"});return(r,s)=>{const c=B("router-link");return l(),i("div",pt,[t("div",_t,[s[1]||(s[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-white"},"Dashboard"),t("p",{class:"text-gray-500 text-sm"},"Overview of your trading bot")],-1)),t("button",{onClick:s[0]||(s[0]=n=>a(e).refreshAll()),class:"btn btn-outline"}," ðŸ”„ Refresh ")]),t("div",ft,[t("div",vt,[s[2]||(s[2]=t("div",{class:"flex items-center justify-between mb-2"},[t("span",{class:"text-gray-500 text-sm"},"Total Balance"),t("span",{class:"text-primary"},"ðŸ’°")],-1)),t("div",mt,o(a(e).totalBalance.toFixed(2)),1),s[3]||(s[3]=t("div",{class:"text-xs text-gray-500 mt-1"},"USDT",-1))]),t("div",yt,[s[4]||(s[4]=t("div",{class:"flex items-center justify-between mb-2"},[t("span",{class:"text-gray-500 text-sm"},"Total Profit"),t("span",{class:"text-success"},"ðŸ“ˆ")],-1)),t("div",{class:_(["stat-value",d.value])},o(a(e).totalProfit>=0?"+":"")+o(a(e).totalProfit.toFixed(2)),3),s[5]||(s[5]=t("div",{class:"text-xs text-gray-500 mt-1"},"USDT",-1))]),t("div",bt,[s[6]||(s[6]=t("div",{class:"flex items-center justify-between mb-2"},[t("span",{class:"text-gray-500 text-sm"},"Win Rate"),t("span",{class:"text-success"},"ðŸŽ¯")],-1)),t("div",gt,o(a(e).winRate)+"% ",1),s[7]||(s[7]=t("div",{class:"text-xs text-gray-500 mt-1"},"of closed trades",-1))]),t("div",$t,[s[8]||(s[8]=t("div",{class:"flex items-center justify-between mb-2"},[t("span",{class:"text-gray-500 text-sm"},"Open Trades"),t("span",{class:"text-primary"},"ðŸ“Š")],-1)),t("div",ht,o(a(e).openTradeCount),1),s[9]||(s[9]=t("div",{class:"text-xs text-gray-500 mt-1"},"active positions",-1))])]),t("div",wt,[t("div",kt,[t("div",St,[s[10]||(s[10]=t("div",{class:"card-header"},[t("span",null,"ðŸ“ˆ Profit Over Time")],-1)),u(ut)]),t("div",Tt,[t("div",Ct,[s[11]||(s[11]=t("span",null,"ðŸ’¹ Open Trades",-1)),t("span",Bt,o(a(e).openTradeCount),1)]),u(g,{trades:a(e).openTrades,"is-open":!0},null,8,["trades"])])]),t("div",jt,[u(A),u(J),u(it)])]),t("div",Pt,[t("div",Dt,[s[13]||(s[13]=t("span",null,"ðŸ“‹ Recent Closed Trades",-1)),u(c,{to:"/trade",class:"text-primary text-sm hover:underline"},{default:T(()=>[...s[12]||(s[12]=[C(" View All â†’ ",-1)])]),_:1})]),u(g,{trades:a(e).closedTrades.slice(0,10),"is-open":!1},null,8,["trades"])])])}}});export{Nt as default};
