import{d as g,u as y,r as p,c as i,f as S,b as e,t as v,g as h,z as R,F as T,p as B,m as r,v as w,k as o,n as _,o as V,s as m,A as $,x as E,y as A}from"./index-2Haz5s36.js";import{_ as C}from"./TradeList.vue_vue_type_script_setup_true_lang-GpUPYJk8.js";const D={class:"space-y-4"},L={key:0,class:"p-3 rounded-lg bg-danger/10 border border-danger/20"},M={class:"text-sm text-danger"},P=["value"],N={class:"flex gap-3 pt-4"},U=["disabled"],j=g({__name:"ForceEntryForm",emits:["close"],setup(x,{emit:t}){const s=t,l=y(),d=p(""),f=p(),a=p(),b=p(!1),u=p("");async function F(){if(!d.value){u.value="Please select a pair";return}b.value=!0,u.value="";try{await l.forceEntry(d.value,f.value,a.value),s("close")}catch(k){u.value=k.message||"Failed to create trade"}finally{b.value=!1}}return(k,n)=>(o(),i("div",D,[u.value?(o(),i("div",L,[e("p",M,v(u.value),1)])):S("",!0),e("div",null,[n[5]||(n[5]=e("label",{class:"label"},"Trading Pair",-1)),h(e("select",{"onUpdate:modelValue":n[0]||(n[0]=c=>d.value=c),class:"input"},[n[4]||(n[4]=e("option",{value:""},"Select pair...",-1)),(o(!0),i(T,null,B(r(l).whitelist,c=>(o(),i("option",{key:c,value:c},v(c),9,P))),128))],512),[[R,d.value]])]),e("div",null,[n[6]||(n[6]=e("label",{class:"label"},"Price (Optional)",-1)),h(e("input",{"onUpdate:modelValue":n[1]||(n[1]=c=>f.value=c),type:"number",class:"input",placeholder:"Market price if empty",step:"0.00000001"},null,512),[[w,f.value,void 0,{number:!0}]])]),e("div",null,[n[7]||(n[7]=e("label",{class:"label"},"Stake Amount (Optional)",-1)),h(e("input",{"onUpdate:modelValue":n[2]||(n[2]=c=>a.value=c),type:"number",class:"input",placeholder:"Default stake if empty",step:"0.01"},null,512),[[w,a.value,void 0,{number:!0}]])]),e("div",N,[e("button",{onClick:F,class:"btn btn-primary flex-1",disabled:b.value},v(b.value?"Creating...":"âœ“ Create Trade"),9,U),e("button",{onClick:n[3]||(n[3]=c=>s("close")),class:"btn btn-outline"}," Cancel ")])]))}}),O={class:"card"},z={class:"flex items-center justify-between gap-4 flex-wrap"},W={class:"flex items-center gap-3"},q={class:"flex gap-2"},G=["disabled"],H=["disabled"],I=["disabled"],J=g({__name:"BotControls",setup(x){const t=y(),s=p(!1);async function l(){s.value=!0;try{await t.startBot()}finally{s.value=!1}}async function d(){s.value=!0;try{await t.stopBot()}finally{s.value=!1}}async function f(){s.value=!0;try{await t.refreshAll()}finally{s.value=!1}}return(a,b)=>(o(),i("div",O,[e("div",z,[e("div",W,[e("div",{class:_(["w-3 h-3 rounded-full",r(t).isBotRunning?"bg-success pulse":"bg-danger"])},null,2),e("span",{class:_(["font-medium",r(t).isBotRunning?"text-success":"text-danger"])},v(r(t).isBotRunning?"Bot Running":"Bot Stopped"),3)]),e("div",q,[r(t).isBotRunning?(o(),i("button",{key:1,onClick:d,class:"btn btn-danger",disabled:s.value}," â¹ Stop ",8,H)):(o(),i("button",{key:0,onClick:l,class:"btn btn-success",disabled:s.value}," â–¶ Start ",8,G)),e("button",{onClick:f,class:"btn btn-outline",disabled:s.value}," ðŸ”„ Reload ",8,I)])])]))}}),K={class:"card"},Q={class:"card-header"},X={class:"badge badge-warning"},Y={class:"max-h-64 overflow-y-auto"},Z={class:"text-sm text-white"},ee={key:0,class:"text-center py-4 text-gray-500 text-sm"},te=g({__name:"PairListLive",setup(x){const t=y();return(s,l)=>(o(),i("div",K,[e("div",Q,[l[0]||(l[0]=e("span",null,"ðŸ“‹ Pair Whitelist",-1)),e("span",X,v(r(t).whitelist.length),1)]),e("div",Y,[(o(!0),i(T,null,B(r(t).whitelist,d=>(o(),i("div",{key:d,class:"flex items-center justify-between py-2 px-2 hover:bg-dark-100 rounded transition-colors"},[e("span",Z,v(d),1),l[1]||(l[1]=e("span",{class:"text-xs text-gray-500"},"Active",-1))]))),128)),r(t).whitelist.length===0?(o(),i("div",ee," No pairs in whitelist ")):S("",!0)])]))}}),se={class:"space-y-6 fade-in"},ae={class:"flex items-center justify-between flex-wrap gap-4"},ne={class:"flex items-center gap-3"},le={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},oe={class:"lg:col-span-3 space-y-4"},ie={class:"flex gap-2 border-b border-dark-100 pb-2"},re={class:"card"},de={class:"space-y-4"},pe=g({__name:"TradingView",setup(x){const t=y(),s=p("open"),l=p(!1);V(()=>{t.fetchTrades(),t.fetchWhitelist()});function d(){t.fetchTrades()}return(f,a)=>{const b=A("Dialog");return o(),i("div",se,[e("div",ae,[a[5]||(a[5]=e("div",null,[e("h1",{class:"text-2xl font-bold text-white"},"Trading"),e("p",{class:"text-gray-500 text-sm"},"Manage your active trades")],-1)),e("div",ne,[e("button",{onClick:a[0]||(a[0]=u=>l.value=!0),class:"btn btn-primary"}," âž• Force Entry "),e("button",{onClick:d,class:"btn btn-outline"}," ðŸ”„ Refresh ")])]),m(J),e("div",le,[e("div",oe,[e("div",ie,[e("button",{onClick:a[1]||(a[1]=u=>s.value="open"),class:_(["px-4 py-2 rounded-t-lg font-medium transition-colors",s.value==="open"?"bg-primary text-dark-300":"text-gray-400 hover:text-white"])}," Open Trades ("+v(r(t).openTrades.length)+") ",3),e("button",{onClick:a[2]||(a[2]=u=>s.value="closed"),class:_(["px-4 py-2 rounded-t-lg font-medium transition-colors",s.value==="closed"?"bg-primary text-dark-300":"text-gray-400 hover:text-white"])}," Closed Trades ("+v(r(t).closedTrades.length)+") ",3)]),e("div",re,[s.value==="open"?(o(),$(C,{key:0,trades:r(t).openTrades,"is-open":!0,"show-actions":""},null,8,["trades"])):(o(),$(C,{key:1,trades:r(t).closedTrades,"is-open":!1},null,8,["trades"]))])]),e("div",de,[m(te)])]),m(b,{visible:l.value,"onUpdate:visible":a[4]||(a[4]=u=>l.value=u),header:"Force Entry",modal:!0,class:"w-full max-w-md"},{default:E(()=>[m(j,{onClose:a[3]||(a[3]=u=>l.value=!1)})]),_:1},8,["visible"])])}}});export{pe as default};
